<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />

        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js"></script>

        <!-- ros2djs -->
        <script type="text/javascript" src="https://static.robotwebtools.org/EaselJS/current/easeljs.min.js"></script>
        <script type="text/javascript" src="https://static.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
        <script type="text/javascript" src="https://static.robotwebtools.org/ros2djs/current/ros2d.min.js"></script>

        <!-- roslib -->
        <script src="https://static.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
        <script src="https://static.robotwebtools.org/roslibjs/current/roslib.js"></script>

        <!-- roslibNav -->
        <script type="text/javascript" src="https://static.robotwebtools.org/nav2djs/current/nav2d.js"></script>

        <link rel="stylesheet" href="../css/style.css">

        <script type="text/javascript" src="../js/setting.js"></script>
    </head>
    <body>
        <h1>ICC Indoor Delivery Robot Navigator(ROS2)</h1>
        <div id="rosconnection">
            <p style="margin: 0px 5px 0px 0px">ROS 연결상태:</p>
            <div id="statusIndicator">
                <p id="connecting">Connecting to rosbridge</p>
                <p id="connected" style="color:#00D600; display:none">Connected</p>
                <p id="error" style="color:#FF0000; display:none">Error in the backend</p>
                <p id="closed" style="display:none">Connection closed</p>
            </div>
        </div>
        
        <div id="fullbody">
            <div id="map"></div>
            <div>
                <input type="file" id="input_file">
                <h3>배송 장소 설정</h3>
                <div id="destination">
                    <select id="room_id">
                        <option value="0">========= 선택 =========</option>
                        <!-- <option value="601">세미나실</option>
                        <option value="624">SPARO LAB</option> -->
                    </select>
                    <button type="button" id="startbtn">배송 시작!</button>
                </div>
                
                <h3>Pose 설정 모드</h3>
                <p>부모 로봇</p>
                <div class="setpose">
                    <div class="setinitpose">
                        <p>초기 Pose 설정</p>
                        <div>
                            <label class="switch">
                                <input type="checkbox" id="head_initmode">
                                <span class="slider round"></span>
                            </label>
                            <p id="head_init_cb_status">OFF</p>
                        </div>
                    </div>
                    <div class="setgoalpose">
                        <p>목표 Pose 설정</p>
                        <div>
                            <label class="switch">
                                <input type="checkbox" id="head_goalmode">
                                <span class="slider round"></span>
                            </label>
                            <p id="head_goal_cb_status">OFF</p>
                        </div>
                    </div>
                </div>
                <p>자식 로봇</p>
                <div class="setpose">
                    <div class="setinitpose">
                        <p>초기 Pose 설정</p>
                        <div>
                            <label class="switch">
                                <input type="checkbox" id="tail_initmode">
                                <span class="slider round"></span>
                            </label>
                            <p id="tail_init_cb_status">OFF</p>
                        </div>
                    </div>
                    <div class="setgoalpose">
                        <p>목표 Pose 설정</p>
                        <div>
                            <label class="switch">
                                <input type="checkbox" id="tail_goalmode">
                                <span class="slider round"></span>
                            </label>
                            <p id="tail_goal_cb_status">OFF</p>
                        </div>
                    </div>
                </div>
                <div id="waypoint" style="display: none">
                    <div>
                        <p>Waypoints 기록</p>
                        <div id="setwaypoint">
                            <div>
                                <label class="switch">
                                    <input type="checkbox" id="wpmode">
                                    <span class="slider round"></span>
                                </label>
                                <p id="wp_cb_status">OFF</p>
                            </div>
                        </div>
                    </div>
                    <div>
                        <button type="button" id="completebtn">주행 시작</button>
                        <button type="button" id="clearbtn">지우기</button>
                    </div>
                </div>
                
                <h3>Robot Status</h3>
                <table class="tg">
                    <thead>
                        <tr>
                            <th class="tg-0pky"></th>
                            <th class="tg-0pky" id="head_name">부모 로봇</th>
                            <th class="tg-0pky" id="tail_name">자식 로봇</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="tg-0pky">상태</td>
                            <td class="tg-0pky" id="head_state">연결 안됨</td>
                            <td class="tg-0pky" id="tail_state">연결 안됨</td>
                        </tr>
                    </tbody>
                </table>
                <textarea cols="40" rows="10" readonly="readonly" id="status_area"></textarea>
            </div>
        </div>
        <script type="text/javascript" src="../js/ros2dmap.js"></script>
        <script type="text/javascript" src="../js/robot_viz.js"></script>
        <script type="text/javascript" src="../js/mouse_event.js"></script>
        <script type="text/javascript" src="../js/waypoint_navigation.js"></script>
        <script type="text/javascript" src="../js/delivery_service.js"></script>
        <script type="text/javascript" src="../js/main.js"></script>
    </body>
</html>