<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />

        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js"></script>

        <!-- ros2djs -->
        <script type="text/javascript" src="https://static.robotwebtools.org/EaselJS/current/easeljs.min.js"></script>
        <script type="text/javascript" src="https://static.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
        <script type="text/javascript" src="https://static.robotwebtools.org/ros2djs/current/ros2d.min.js"></script>

        <!-- roslib -->
        <script src="https://static.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
        <script src="https://static.robotwebtools.org/roslibjs/current/roslib.js"></script>

        <!-- roslibNav -->
        <script type="text/javascript" src="https://static.robotwebtools.org/nav2djs/current/nav2d.js"></script>

        <link rel="stylesheet" href="../css/style.css">

        <script type="text/javascript" src="../js/setting.js"></script>
    </head>
    <body>
        <h1>YJLink Robot Management System(ROS2)</h1>
        <div id="statusIndicator">
            <p style="margin: 0px 5px 0px 0px">ROS 연결상태:</p>
            <p id="connecting">Connecting to rosbridge</p>
            <p id="connected" style="color:#00D600; display:none">Connected</p>
            <p id="error" style="color:#FF0000; display:none">Error in the backend</p>
            <p id="closed" style="display:none">Connection closed</p>
        </div>
        <div id="fullbody">
            <div id="map"></div>
            <div id="settings_frame">
                <div class="unit">
                    <h3>목적지 설정</h3>
                    <input type="file" id="input_file">
                    <div id="destination">
                        <select id="marker_list" onchange="requestWaypoints(this)">
                            <option value="0">========= 선택 =========</option>
                        </select>
                        <button type="button" id="startbtn">운행 시작</button>
                    </div>
                </div>

                <div class="unit">
                    <h3>Pose 설정 모드</h3>
                    <div class="setpose">
                        <div class="setinitpose">
                            <p>초기 Pose 설정</p>
                            <div>
                                <label class="switch">
                                    <input type="checkbox" id="initmode">
                                    <span class="slider round"></span>
                                </label>
                                <p id="init_cb_status">OFF</p>
                            </div>
                        </div>
                        <div class="setgoalpose">
                            <p>목표 Pose 설정</p>
                            <div>
                                <label class="switch">
                                    <input type="checkbox" id="goalmode">
                                    <span class="slider round"></span>
                                </label>
                                <p id="goal_cb_status">OFF</p>
                            </div>
                        </div>
                        <div>
                            <p>Waypoints 지정</p>
                            <div id="setwaypoint">
                                <div>
                                    <label class="switch">
                                        <input type="checkbox" id="wpmode">
                                        <span class="slider round"></span>
                                    </label>
                                    <p id="wp_cb_status">OFF</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div class="waypoint">
                            <p>출발</p>
                            <input type="number" class="marker_info" id="depart_id" disabled="disabled">
                            <input type="text" class="marker_info" id="depart_name" disabled="disabled">
                            <p>-> 도착</p>
                            <input type="number" class="marker_info" id="arrive_id" disabled="disabled">
                            <input type="text" class="marker_info" id="arrive_name" disabled="disabled">
                        </div>
                        <div class="waypoint">
                            <button type="button" class="wpbtn" id="completebtn">주행 시작</button>
                            <button type="button" class="wpbtn" id="clearbtn">지우기</button>
                            <button type="button" class="wpbtn" id="savebtn">저장</button>
                        </div>
                    </div>
                </div>

                <div class="unit">
                    <h3>Robot Status</h3>
                    <table class="tg">
                        <thead>
                            <tr>
                                <th class="tg-0pky"></th>
                                <th class="tg-0pky" id="robot_name">로봇</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="tg-0pky">상태</td>
                                <td class="tg-0pky" id="robot_state">연결 안됨</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div>
                    <textarea cols="40" rows="10" readonly="readonly" id="status_area"></textarea>
                </div>
            </div>
        </div>
        <script type="text/javascript" src="../js/ros2dmap.js"></script>
        <script type="text/javascript" src="../js/robot_viz.js"></script>
        <script type="text/javascript" src="../js/mouse_event.js"></script>
        <script type="text/javascript" src="../js/waypoint_navigation.js"></script>
        <script type="text/javascript" src="../js/main.js"></script>
    </body>
</html>